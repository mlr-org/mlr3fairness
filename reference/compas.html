<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>COMPAS Dataset — compas • mlr3fairness</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="COMPAS Dataset — compas"><meta name="description" content="The COMPAS dataset includes the processed COMPAS data between 2013-2014.
The data cleaning process followed the guidance in the original COMPAS repo.
Contains 6172 observations and 14 features.
The target column could either be &quot;is_recid&quot; or &quot;two_year_recid&quot;, but often &quot;two_year_recid&quot; is prefered.
The column &quot;sex&quot; is set as protected attribute, but more often &quot;race&quot; is used.
Derived tasks:
compas : A classification task for the compas data set with the protected attribute 'sex'.



compas_race_binary : A classification task for the compas data set with the protected attribute 'race'.
The observations have been filtered, keeping only observations with race
&quot;Caucasian&quot; and &quot;African-American&quot;. The protected attribute has been set
to &quot;race&quot;.

"><meta property="og:description" content="The COMPAS dataset includes the processed COMPAS data between 2013-2014.
The data cleaning process followed the guidance in the original COMPAS repo.
Contains 6172 observations and 14 features.
The target column could either be &quot;is_recid&quot; or &quot;two_year_recid&quot;, but often &quot;two_year_recid&quot; is prefered.
The column &quot;sex&quot; is set as protected attribute, but more often &quot;race&quot; is used.
Derived tasks:
compas : A classification task for the compas data set with the protected attribute 'sex'.



compas_race_binary : A classification task for the compas data set with the protected attribute 'race'.
The observations have been filtered, keeping only observations with race
&quot;Caucasian&quot; and &quot;African-American&quot;. The protected attribute has been set
to &quot;race&quot;.

"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mlr3fairness</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.3.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-alt"></span> Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/debiasing-vignette.html">Debiasing Methods</a></li>
    <li><a class="dropdown-item" href="../articles/measures-vignette.html">Fairness Metrics</a></li>
    <li><a class="dropdown-item" href="../articles/reports-vignette.html">Reports</a></li>
    <li><a class="dropdown-item" href="../articles/visualization-vignette.html">Fairness Visualizations</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr3book.mlr-org.com"><span class="fa fa-link"></span> mlr3book</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlr-org/mlr3fairness/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/"><span class="fa fa-comments"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr-org.com/"><span class="fa fa-rss"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>COMPAS Dataset</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr3fairness/blob/main/R/compas.R" class="external-link"><code>R/compas.R</code></a></small>
      <div class="d-none name"><code>compas.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The COMPAS dataset includes the processed COMPAS data between 2013-2014.
The data cleaning process followed the guidance in the original COMPAS repo.
Contains 6172 observations and 14 features.
The target column could either be "is_recid" or "two_year_recid", but often "two_year_recid" is prefered.
The column <code>"sex"</code> is set as protected attribute, but more often <code>"race"</code> is used.</p>
<p>Derived tasks: <br></p><ul><li><p><code>compas</code> : A classification task for the compas data set with the protected attribute 'sex'.</p></li>
</ul><ul><li><p><code>compas_race_binary</code> : A classification task for the compas data set with the protected attribute 'race'.
The observations have been filtered, keeping only observations with race
<code>"Caucasian"</code> and <code>"African-American"</code>. The protected attribute has been set
to <code>"race"</code>.</p></li>
</ul></div>


    <div class="section level2">
    <h2 id="format">Format<a class="anchor" aria-label="anchor" href="#format"></a></h2>
    <p><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6::R6Class</a> inheriting from <a href="https://mlr3.mlr-org.com/reference/TaskClassif.html" class="external-link">TaskClassif</a>.</p>
<p><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6::R6Class</a> inheriting from <a href="https://mlr3.mlr-org.com/reference/TaskClassif.html" class="external-link">TaskClassif</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>ProPublica Analysis: <a href="https://github.com/propublica/compas-analysis" class="external-link">https://github.com/propublica/compas-analysis</a></p>
<p>Bao, Michelle, Zhou, Angela, Zottola, A S, Brubach, Brian, Desmarais, Sarah, Horowitz, Seth A, Lum, Kristian, Venkatasubramanian, Suresh (2021).
“It's COMPASlicated: The Messy Relationship between RAI Datasets and Algorithmic Fairness Benchmarks.”
In <em>Thirty-fifth Conference on Neural Information Processing Systems Datasets and Benchmarks Track (Round 1)</em>.</p>
    </div>
    <div class="section level2">
    <h2 id="using-compas-known-problems">Using COMPAS - Known Problems<a class="anchor" aria-label="anchor" href="#using-compas-known-problems"></a></h2>


<p>The COMPAS dataset was collected as part of the ProPublica analysis of machine bias in criminal sentencing.
It is important to note, that using COMPAS is generally discouraged for the following reasons:</p><ul><li><p>The prediction task derived from this dataset has little connection to actually relevant tasks in the
context of risk assessment instruments.</p></li>
<li><p>Collected data and labels suffer from disparate measurement bias.</p></li>
</ul><p>The dataset should therefore not be used to benchmark new fairness algorithms or measures.
For a more in-depth treatment, see Bao et al., 2021: It's COMPASlicated: The Messy Relationship between RAI Datasets and Algorithmic Fairness Benchmarks.
We replicate the dataset here to raise awareness for this issue.
Furthermore, similar issues exist across a wide variety of datasets widely used in the context of fairness auditing
and we, therefore, consider issues, e.g. derived from disparate measurement bias an important issue in the context of fairness audits.</p>
    </div>
    <div class="section level2">
    <h2 id="pre-processing">Pre-processing<a class="anchor" aria-label="anchor" href="#pre-processing"></a></h2>


<ul><li><p>Identifying columns are removed</p></li>
<li><p>Removed the outliers for abs(days_b_screening_arrest) &gt;= 30.</p></li>
<li><p>Removed observations where is_recid != -1.</p></li>
<li><p>Removed observations where c_charge_degree != "O".</p></li>
<li><p>Removed observations where score_text != 'N/A'.</p></li>
<li><p>Factorize the features that are categorical.</p></li>
<li><p>Add length of stay (c_jail_out - c_jail_in) in the dataset.</p></li>
<li><p><code>Pre-processing Resource:</code> @url https://github.com/propublica/compas-analysis/blob/master/Compas%20Analysis.ipynb</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="metadata">Metadata<a class="anchor" aria-label="anchor" href="#metadata"></a></h2>


<ul><li><p>(integer) age : The age of defendants.</p></li>
<li><p>(factor) c_charge_degree : The charge degree of defendants. F: Felony M: Misdemeanor</p></li>
<li><p>(factor) race: The race of defendants.</p></li>
<li><p>(factor) age_cat: The age category of defendants.</p></li>
<li><p>(factor) score_text: The score category of defendants.</p></li>
<li><p>(factor) sex: The sex of defendants.</p></li>
<li><p>(integer) priors_count: The prior criminal records of defendants.</p></li>
<li><p>(integer) days_b_screening_arrest: The count of days between screening date and (original) arrest date.
If they are too far apart, that may indicate an error. If the value is negative,
that indicate the screening date happened before the arrest date.</p></li>
<li><p>(integer) decile_score: Indicate the risk of recidivism (Min=1, Max=10)</p></li>
<li><p>(integer) is_recid: Binary variable indicate whether defendant is rearrested at any time.</p></li>
<li><p>(factor) two_year_recid: Binary variable indicate whether defendant is rearrested at within two years.</p></li>
<li><p>(numeric) length_of_stay: The count of days stay in jail.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="construction">Construction<a class="anchor" aria-label="anchor" href="#construction"></a></h2>



<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>mlr_tasks<span class="sc">$</span><span class="fu">get</span>(<span class="st">"compas"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">tsk</span>(<span class="st">"compas"</span>)</span></code></pre><p></p></div>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>mlr_tasks<span class="sc">$</span><span class="fu">get</span>(<span class="st">"compas_race_binary"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">tsk</span>(<span class="st">"compas_race_binary"</span>)</span></code></pre><p></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://mlr3.mlr-org.com" class="external-link">"mlr3"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"compas"</span>, package <span class="op">=</span> <span class="st">"mlr3fairness"</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Florian Pfisterer, Wei Siyi, Michel Lang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

